webpackJsonp([18],{"3PnY":function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("vMJZ"),i=e("NxGh"),d=e("0xDb"),n=e("T726"),o={components:{Loading:i.a},data:function(){return{page:1,limit:20,addressList:[],loadTitle:"",loading:!1,loadend:!1,isWechat:Object(d.d)()}},mounted:function(){var s=this;this.AddressList(),this.$scroll(this.$refs.container,function(){!s.loading&&s.AddressList()})},methods:{AddressList:function(){var s=this;s.loading||s.loadend||(s.loading=!0,Object(a.i)({page:s.page,limit:s.limit}).then(function(t){s.loading=!1,s.addressList.push.apply(s.addressList,t.data),s.loadend=t.data.length<s.limit,s.page=s.page+1}))},editAddress:function(s){this.$router.push({path:"/user/add_address/"+this.addressList[s].id})},delAddress:function(s){var t=this,e=this.addressList[s].id;Object(a.j)(e).then(function(){t.$dialog.toast({mes:"删除成功!",callback:function(){t.addressList.splice(s,1),t.$set(t,"addressList",t.addressList)}})})},radioChange:function(s){var t=this,e=this.addressList[s].id;Object(a.h)(e).then(function(){for(var e=0,a=t.addressList.length;e<a;e++)t.addressList[e].is_default=e===s?1:0;t.$set(t,"addressList",t.addressList)})},addAddress:function(){this.$router.push({path:"/user/add_address"})},getAddress:function(){var s=this;Object(n.openAddress)().then(function(t){s.$dialog.loading.open(),Object(a.Q)({real_name:t.userName,phone:t.telNumber,address:{province:t.provinceName,city:t.cityName,district:t.countryName},detail:t.detailInfo,post_code:t.postalCode,wx_export:1}).then(function(){s.page=1,s.loading=!1,s.loadend=!1,s.addressList=[],s.AddressList(),s.$dialog.loading.close(),s.$dialog.toast({mes:"添加成功"})}).catch(function(t){s.$dialog.loading.close(),s.$dialog.error(t.msg||"添加失败")})})}}},r={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{ref:"container",staticClass:"address-management",class:s.addressList.length<1&&s.page>1?"on":""},[s.addressList.length>0?a("div",{staticClass:"line"},[a("img",{attrs:{src:e("BPO3")}})]):s._e(),s._v(" "),s._l(s.addressList,function(t,e){return a("div",{key:e,staticClass:"item"},[a("div",{staticClass:"address"},[a("div",{staticClass:"consignee"},[s._v("\n        收货人："+s._s(t.real_name)),a("span",{staticClass:"phone"},[s._v(s._s(t.phone))])]),s._v(" "),a("div",[s._v("\n        收货地址："+s._s(t.province)+s._s(t.city)+s._s(t.district)+s._s(t.detail)+"\n      ")])]),s._v(" "),a("div",{staticClass:"operation acea-row row-between-wrapper"},[a("div",{staticClass:"select-btn"},[a("div",{staticClass:"checkbox-wrapper"},[a("label",{staticClass:"well-check"},[a("input",{attrs:{type:"radio",name:"default",value:""},domProps:{checked:!!t.is_default},on:{click:function(t){return s.radioChange(e)}}}),a("i",{staticClass:"icon"}),a("span",{staticClass:"default"},[s._v("设为默认")])])])]),s._v(" "),a("div",{staticClass:"acea-row row-middle"},[a("div",{on:{click:function(t){return s.editAddress(e)}}},[a("span",{staticClass:"iconfont icon-bianji"}),s._v("编辑\n        ")]),s._v(" "),a("div",{on:{click:function(t){return s.delAddress(e)}}},[a("span",{staticClass:"iconfont icon-shanchu"}),s._v("删除\n        ")])])])])}),s._v(" "),a("Loading",{attrs:{loaded:s.loadend,loading:s.loading}}),s._v(" "),s.addressList.length<1&&s.page>1?a("div",{staticClass:"noCommodity"},[s._m(0)]):s._e(),s._v(" "),a("div",{staticStyle:{height:"1.2rem"}}),s._v(" "),a("div",{staticClass:"footer acea-row row-between-wrapper"},[(s.isWechat,a("div",{staticClass:"addressBnt on bg-color-red",on:{click:s.addAddress}},[a("span",{staticClass:"iconfont icon-tianjiadizhi"}),s._v("添加新地址\n    ")])),s._v(" "),(s.isWechat,s._e())])],2)},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"noPictrue"},[t("img",{staticClass:"image",attrs:{src:e("5WGt")}})])}]};var c=e("C7Lr")(o,r,!1,function(s){e("zbMR")},"data-v-48c6676c",null);t.default=c.exports},"5WGt":function(s,t,e){s.exports=e.p+"static/img/noAddress.d76a1ce.png"},zbMR:function(s,t){}});
//# sourceMappingURL=18.20b8a9cb0dbecffe2696.js.map