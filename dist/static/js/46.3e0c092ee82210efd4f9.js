webpackJsonp([46],{"0V6b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),n=i.n(s),o=i("fUgm"),r=i("FWz8"),a=i("0xDb"),d="PayMentStatus",c={name:d,props:{},data:function(){return{id:"",status:0,msgContent:"",orderInfo:{},isWeixin:Object(a.d)()}},watch:{$route:function(t){t.query.msg&&(this.msgContent=t.query.msg),t.name===d&&this.id!==t.params.id&&(this.id=t.params.id,this.status=parseInt(t.params.status),this.getOrderInfo())}},computed:n()({},Object(o.b)(["userInfo"])),mounted:function(){this.id=this.$route.params.id,this.msgContent=this.$route.query.msg,this.status=parseInt(this.$route.params.status),this.getOrderInfo()},methods:{goPages:function(t){var e=void 0!==t?t:"/order/detail/"+this.orderInfo.order_id;return 5===this.status&&void 0===t&&(e="/order/list/0"),this.$router.push({path:e})},getOrderInfo:function(){var t=this;Object(r.i)(this.id).then(function(e){t.orderInfo=e.data,t.isWeixin?document.title=t.orderInfo.paid?"支付成功":"支付失败":document.title="订单创建成功"})}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"payment-status"},[!t.isWeixin||t.orderInfo.paid||"offline"==t.orderInfo.pay_type?i("div",{staticClass:"iconfont icon-duihao2 bg-color-red"}):i("div",{staticClass:"iconfont icon-iconfontguanbi fail"}),t._v(" "),!t.isWeixin&&"weixin"==t.orderInfo.pay_type||"offline"==t.orderInfo.pay_type?i("div",{staticClass:"status"},[t._v("\n    订单创建成功\n  ")]):t.orderInfo.paid?i("div",{staticClass:"status"},[t._v("订单支付成功")]):i("div",{staticClass:"status"},[t._v("订单支付失败")]),t._v(" "),i("div",{staticClass:"wrapper"},[i("div",{staticClass:"item acea-row row-between-wrapper"},[i("div",[t._v("订单编号")]),t._v(" "),i("div",{staticClass:"itemCom",domProps:{textContent:t._s(t.orderInfo.order_id)}})]),t._v(" "),i("div",{staticClass:"item acea-row row-between-wrapper"},[i("div",[t._v("下单时间")]),t._v(" "),i("div",{staticClass:"itemCom",domProps:{textContent:t._s(t.orderInfo.add_time)}})]),t._v(" "),i("div",{staticClass:"item acea-row row-between-wrapper"},[i("div",[t._v("支付方式")]),t._v(" "),"weixin"==t.orderInfo.pay_type&&2==t.orderInfo.is_channel?i("div",{staticClass:"itemCom"},[t._v("\n        H5微信支付\n      ")]):t._e(),t._v(" "),"weixin"==t.orderInfo.pay_type&&0==t.orderInfo.is_channel?i("div",{staticClass:"itemCom"},[t._v("\n        微信支付\n      ")]):t._e(),t._v(" "),"yue"==t.orderInfo.pay_type?i("div",{staticClass:"itemCom"},[t._v("余额支付")]):t._e(),t._v(" "),"offline"==t.orderInfo.pay_type?i("div",{staticClass:"itemCom"},[t._v("\n        线下支付\n      ")]):t._e()]),t._v(" "),i("div",{staticClass:"item acea-row row-between-wrapper"},[i("div",[t._v("支付金额")]),t._v(" "),i("div",{staticClass:"itemCom",domProps:{textContent:t._s(t.orderInfo.pay_price)}})]),t._v(" "),0==t.orderInfo.paid&&"offline"!=t.orderInfo.pay_type&&t.isWeixin&&t.msgContent?i("div",{staticClass:"item acea-row row-between-wrapper"},[i("div",[t._v("失败原因")]),t._v(" "),i("div",{staticClass:"itemCom",domProps:{textContent:t._s(t.msgContent)}})]):t._e()]),t._v(" "),"weixin"==t.orderInfo.pay_type&&2==t.orderInfo.is_channel?i("div",[i("div",{staticClass:"returnBnt bg-color-red",on:{click:function(e){return t.goPages()}}},[t._v("查看支付结果")]),t._v(" "),i("div",{staticClass:"returnBnt cart-color",on:{click:function(e){return t.goPages()}}},[t._v("\n      支付失败重新支付\n    ")])]):i("div",[i("div",{staticClass:"returnBnt bg-color-red",on:{click:function(e){return t.goPages()}}},[t._v("查看订单")]),t._v(" "),i("div",{staticClass:"returnBnt cart-color",on:{click:function(e){return t.goPages("/")}}},[t._v("返回首页")])])])},staticRenderFns:[]},_=i("C7Lr")(c,v,!1,null,null,null);e.default=_.exports}});
//# sourceMappingURL=46.3e0c092ee82210efd4f9.js.map