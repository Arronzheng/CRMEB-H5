webpackJsonp([41],{ZF8v:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("vMJZ"),n={name:"UserBill",components:{Loading:s("NxGh").a},props:{},data:function(){return{types:"",where:{page:1,limit:5},list:[],loaded:!1,loading:!1}},watch:{"$route.params.types":function(t){void 0!=t&&(this.types=t,this.list=[],this.where.page=1,this.loaded=!1,this.loading=!1,this.getIndex())},types:function(){this.getIndex()}},mounted:function(){var t=this;t.types=t.$route.params.types,t.getIndex(),t.$scroll(t.$refs.container,function(){!t.loading&&t.getIndex()})},methods:{code:function(){this.sendCode()},changeTypes:function(t){t!=this.types&&(this.types=t,this.list=[],this.where.page=1,this.loaded=!1,this.loading=!1)},getIndex:function(){var t=this;1!=t.loaded&&1!=t.loading&&(t.loading=!0,Object(i.s)(t.where,t.types).then(function(e){t.loading=!1,t.loaded=e.data.length<t.where.limit,t.where.page=t.where.page+1,t.list.push.apply(t.list,e.data)},function(e){t.$dialog.message(e.msg)}))}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"container",staticClass:"bill-details"},[s("div",{staticClass:"nav acea-row"},[s("div",{staticClass:"item",class:0==t.types?"on":"",on:{click:function(e){return t.changeTypes(0)}}},[t._v("\n      全部\n    ")]),t._v(" "),s("div",{staticClass:"item",class:1==t.types?"on":"",on:{click:function(e){return t.changeTypes(1)}}},[t._v("\n      消费\n    ")]),t._v(" "),s("div",{staticClass:"item",class:2==t.types?"on":"",on:{click:function(e){return t.changeTypes(2)}}},[t._v("\n      充值\n    ")])]),t._v(" "),s("div",{staticClass:"sign-record"},[s("div",{staticClass:"list"},t._l(t.list,function(e,i){return s("div",{key:i,staticClass:"item"},[s("div",{staticClass:"data"},[t._v(t._s(e.time))]),t._v(" "),t._l(e.list,function(e,i){return s("div",{key:i,staticClass:"listn"},[s("div",{staticClass:"itemn acea-row row-between-wrapper"},[s("div",[s("div",{staticClass:"name line1"},[t._v(t._s(e.title))]),t._v(" "),s("div",[t._v(t._s(e.add_time))])]),t._v(" "),s("div",{staticClass:"num",class:0==e.pm?"font-color-red":""},[t._v("\n              "+t._s(0==e.pm?"-":"+")+t._s(e.number)+"\n            ")])])])})],2)}),0)]),t._v(" "),s("Loading",{attrs:{loaded:t.loaded,loading:t.loading}})],1)},staticRenderFns:[]},l=s("C7Lr")(n,a,!1,null,null,null);e.default=l.exports}});
//# sourceMappingURL=41.409e9dcdfce8de7699f5.js.map