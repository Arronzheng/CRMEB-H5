{"version":3,"sources":["webpack:///src/components/CouponWindow.vue","webpack:///./src/components/CouponWindow.vue?616e","webpack:///./src/components/CouponWindow.vue"],"names":["CouponWindow","name","props","couponList","type","Array","default","computed","Object","vuex_esm","data","value","mounted","methods","checked","_this","this","isLogin","login","ids","reduce","initial","coupon","push","id","user","then","$emit","$dialog","toast","mes","catch","close","components_CouponWindow","render","_vm","_h","$createElement","_c","_self","staticClass","class","_m","_v","on","click","attrs","hidden","touchmove","$event","preventDefault","staticRenderFns","staticStyle","height","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"gJAkDAA,GACAC,KAAA,eACAC,OACAC,YACAC,KAAAC,MACAC,QAAA,uBAGAC,SAAAC,OAAAC,EAAA,EAAAD,EAAA,YACAE,KAAA,WACA,OACAC,OAAA,IAGAC,QAAA,aACAC,SACAC,QADA,WACA,IAAAC,EAAAC,KACAC,EAAAD,KAAAC,QACA,IAAAA,EAAA,OAAAT,OAAAU,EAAA,EAAAV,GAEA,IAAAW,EAAAH,KAAAb,WAAAiB,OAAA,SAAAC,EAAAC,GAEA,OADAD,EAAAE,KAAAD,EAAAE,IACAH,OAEMb,OAAAiB,EAAA,EAAAjB,CAANW,GACAO,KAAA,WACAX,EAAAY,MAAA,WACAZ,EAAAa,QAAAC,OAAAC,IAAA,WAEAC,MAAA,WACAhB,EAAAa,QAAAC,OAAAC,IAAA,UAEAb,IACAD,KAAAL,OAAA,EACAK,KAAAW,MAAA,aAGAK,MAAA,WACAhB,KAAAL,OAAA,EACAK,KAAAW,MAAA,YCtFeM,GADEC,OAFjB,WAA0B,IAAAC,EAAAnB,KAAaoB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,gBAAAC,MAAAN,EAAAxB,MAAA,UAAwDwB,EAAAO,GAAA,GAAAP,EAAAQ,GAAA,KAAAL,EAAA,OAAkCE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,qBAAAI,IAAqCC,MAAAV,EAAArB,WAAqBqB,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,KAAAL,EAAA,OAAyCE,YAAA,wBAAAI,IAAwCC,MAAAV,EAAAH,aAAmBG,EAAAQ,GAAA,KAAAL,EAAA,OAA4BE,YAAA,OAAAM,OAA0BC,QAAAZ,EAAAxB,OAAoBiC,IAAKI,UAAA,SAAAC,GAA6BA,EAAAC,wBAEreC,iBADjB,WAAoC,IAAaf,EAAbpB,KAAaqB,eAA0BC,EAAvCtB,KAAuCuB,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,sCAAgDF,EAAA,OAAYE,YAAA,yBAApLxB,KAAuN2B,GAAA,mBAAAL,EAAA,QAAuCE,YAAA,QAA9PxB,KAAgR2B,GAAA,WAAhR3B,KAAgR2B,GAAA,KAAAL,EAAA,OAA0CE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,SAAzVxB,KAA4W2B,GAAA,6CAA5W3B,KAA4W2B,GAAA,KAAAL,EAAA,OAA5WtB,KAA4W2B,GAAA,6DAA5W3B,KAA4W2B,GAAA,KAAAL,EAAA,OAAsKc,aAAaC,OAAA,iBCankBC,EAdyBC,EAAQ,OAcjCC,CACExD,EACAiC,GATF,EAEA,KAEA,KAEA,MAUewB,EAAA,QAAAH,EAAiB","file":"static/js/51.0cd52f19f3cba270d731.js","sourcesContent":["<template>\n  <div>\n    <div class=\"coupon-window\" :class=\"value ? 'on' : ''\">\n      <div class=\"couponWinList\">\n<!--        <div-->\n<!--          class=\"item acea-row row-between-wrapper\"-->\n<!--          v-for=\"(item, index) in couponList\"-->\n<!--          :key=\"index\"-->\n<!--        >-->\n<!--          <div class=\"money font-color-red\">-->\n<!--            ￥<span class=\"num\">{{ item.coupon_price }}</span>-->\n<!--          </div>-->\n<!--          <div class=\"text\">-->\n<!--            <div class=\"name\">-->\n<!--              购物买{{ item.use_min_price }}减{{ item.coupon_price }}-->\n<!--            </div>-->\n<!--            <div v-if=\"item.end_time\">-->\n<!--              {{ item.start_time ? item.start_time + \"-\" : \"\"-->\n<!--              }}{{ item.end_time }}-->\n<!--            </div>-->\n<!--          </div>-->\n<!--        </div>-->\n        <div class=\"item acea-row row-between-wrapper\">\n          <div class=\"money font-color-red\">\n            ￥<span class=\"num\">199</span>\n          </div>\n          <div class=\"text\">\n            <div class=\"name\">\n              购物买200减10\n            </div>\n            <div>\n              2020-03-30-2020-03-31\n            </div>\n          </div>\n        </div>\n        <div style=\"height:1.2rem\"></div>\n      </div>\n      <div class=\"lid\">\n        <div class=\"bnt font-color-red\" @click=\"checked\">立即领取</div>\n        <div class=\"iconfont icon-guanbi3\" @click=\"close\"></div>\n      </div>\n    </div>\n    <div class=\"mask\" @touchmove.prevent :hidden=\"!value\"></div>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nimport toLogin from \"@libs/login\";\nimport { couponReceiveBatch } from \"@api/user\";\n\nexport default {\n  name: \"CouponWindow\",\n  props: {\n    couponList: {\n      type: Array,\n      default: () => []\n    }\n  },\n  computed: mapGetters([\"isLogin\"]),\n  data: function() {\n    return {\n      value: true\n    };\n  },\n  mounted: function() {},\n  methods: {\n    checked() {\n      const isLogin = this.isLogin;\n      if (!isLogin) return toLogin();\n\n      const ids = this.couponList.reduce((initial, coupon) => {\n        initial.push(coupon.id);\n        return initial;\n      }, []);\n      couponReceiveBatch(ids)\n        .then(() => {\n          this.$emit(\"success\");\n          this.$dialog.toast({ mes: \"领取成功\" });\n        })\n        .catch(() => {\n          this.$dialog.toast({ mes: \"已领取\" });\n        });\n      if (isLogin) {\n        this.value = false;\n        this.$emit(\"checked\");\n      }\n    },\n    close: function() {\n      this.value = false;\n      this.$emit(\"close\");\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/CouponWindow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"coupon-window\",class:_vm.value ? 'on' : ''},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"lid\"},[_c('div',{staticClass:\"bnt font-color-red\",on:{\"click\":_vm.checked}},[_vm._v(\"立即领取\")]),_vm._v(\" \"),_c('div',{staticClass:\"iconfont icon-guanbi3\",on:{\"click\":_vm.close}})])]),_vm._v(\" \"),_c('div',{staticClass:\"mask\",attrs:{\"hidden\":!_vm.value},on:{\"touchmove\":function($event){$event.preventDefault();}}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"couponWinList\"},[_c('div',{staticClass:\"item acea-row row-between-wrapper\"},[_c('div',{staticClass:\"money font-color-red\"},[_vm._v(\"\\n            ￥\"),_c('span',{staticClass:\"num\"},[_vm._v(\"199\")])]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"\\n              购物买200减10\\n            \")]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n              2020-03-30-2020-03-31\\n            \")])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"1.2rem\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-762a4e48\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/CouponWindow.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CouponWindow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CouponWindow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-762a4e48\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./CouponWindow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CouponWindow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}